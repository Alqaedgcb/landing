<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LEXA - Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªÙØ§Ø¹Ù„</title>
    <style>
      body {
        font-family: "Tajawal", sans-serif;
        background: linear-gradient(135deg, #001f3f, #0074d9, #00c6ff);
        color: white;
        margin: 0;
        text-align: center;
      }

      h1 {
        font-size: 2.8rem;
        margin-top: 120px;
      }

      p {
        font-size: 1.2rem;
        margin: 15px 0 30px;
      }

      .btn {
        background: #25d366;
        color: white;
        padding: 14px 35px;
        border: none;
        border-radius: 40px;
        font-size: 1.2rem;
        text-decoration: none;
        transition: 0.3s;
      }

      .btn:hover {
        background: #1ebe5b;
        transform: scale(1.05);
      }

      #chatbox {
        position: fixed;
        bottom: 20px;
        left: 20px;
        width: 320px;
        background: white;
        color: #222;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.25);
        display: none;
        flex-direction: column;
        overflow: hidden;
        z-index: 9999;
        animation: fadeIn 0.5s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      #chat-header {
        background: #075e54;
        color: white;
        padding: 12px;
        font-weight: bold;
        text-align: right;
      }

      #chat-content {
        padding: 15px;
        text-align: right;
        font-size: 0.95rem;
      }

      .msg {
        background: #e5e5ea;
        color: #111;
        padding: 10px;
        border-radius: 15px;
        margin: 8px 0;
        width: fit-content;
        max-width: 90%;
      }

      .msg.ai {
        background: #dcf8c6;
        align-self: flex-start;
      }

      #chat-content button {
        background: #25d366;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 10px;
        cursor: pointer;
        font-weight: bold;
        margin-top: 10px;
      }

      #chat-content button:hover {
        background: #1ebe5b;
      }
    </style>
  </head>
  <body>
    <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ <span style="color:#25d366;">LEXA</span> ğŸ’</h1>
    <p>ØªØ³ÙˆÙ‚ Ø¨Ø°ÙƒØ§Ø¡ Ù…Ø¹ Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø°ÙŠ ÙŠÙÙ‡Ù…Ùƒ ÙˆÙŠØªØ°ÙƒÙ‘Ø±Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ğŸ’«</p>
    <a
      href="https://wa.me/14155238886?text=Ù…Ø±Ø­Ø¨Ø§Ù‹+LEXA,+Ø£Ø±ØºØ¨+ÙÙŠ+Ù…Ø¹Ø±ÙØ©+Ø¹Ø±ÙˆØ¶+Ø§Ù„ÙŠÙˆÙ…"
      target="_blank"
      class="btn"
      >Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</a
    >

    <div id="chatbox">
      <div id="chat-header">ğŸ¤– Ù…Ø³Ø§Ø¹Ø¯ LEXA Ø§Ù„Ø°ÙƒÙŠ</div>
      <div id="chat-content"></div>
    </div>

    <script>
      const chat = document.getElementById("chatbox");
      const content = document.getElementById("chat-content");

      // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø°ÙƒÙŠ
      const userLang = navigator.language || navigator.userLanguage;
      const userAgent = navigator.userAgent.toLowerCase();
      const isMobile = /iphone|android|ipad/.test(userAgent);
      const isArabic = userLang.startsWith("ar");

      let interest = "Ø¹Ø§Ù…";
      if (isMobile) interest = "ØªÙ‚Ù†ÙŠØ©";
      if (!isMobile && Math.random() > 0.5) interest = "ØªØ³ÙˆÙ‚";
      if (isArabic) interest += " - Ø¹Ø±Ø¨ÙŠ";

      const messages = {
        "ØªÙ‚Ù†ÙŠØ© - Ø¹Ø±Ø¨ÙŠ": [
          "ğŸ‘‹ Ø£Ù‡Ù„Ù‹Ø§ Ø¨Ùƒ! ÙˆØ§Ø¶Ø­ Ø¥Ù†Ùƒ Ù…Ù† Ø¹Ø´Ø§Ù‚ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ğŸ’»",
          "LEXA Ø¹Ù†Ø¯Ù‡Ø§ Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© Ø§Ù„Ù„ÙŠ Ø¨ØªÙ†Ø§Ø³Ø¨Ùƒ ğŸ˜",
          "ØªØ¨ØºØ§Ù†ÙŠ Ø£Ø±Ø³Ù„ Ù„Ùƒ Ø¹Ø±ÙˆØ¶ Ø§Ù„ÙŠÙˆÙ…ØŸ âš¡",
        ],
        "ØªØ³ÙˆÙ‚ - Ø¹Ø±Ø¨ÙŠ": [
          "Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¬Ù…ÙŠÙ„ ğŸ’«",
          "ÙŠØ¨Ø¯Ùˆ Ø¥Ù†Ùƒ ØªØ­Ø¨ Ø§Ù„ØªÙ…ÙŠØ² ÙÙŠ Ø§Ø®ØªÙŠØ§Ø±Ø§ØªÙƒ ğŸ‘—ğŸ•¶ï¸",
          "ØªØ¨ØºØ§Ù†ÙŠ Ø£ÙˆØ±ÙŠÙƒ Ø£ÙƒØ«Ø± Ø§Ù„Ù‚Ø·Ø¹ Ø·Ù„Ø¨Ù‹Ø§ Ø§Ù„ÙŠÙˆÙ…ØŸ ğŸ”¥",
        ],
        "Ø¹Ø§Ù… - Ø¹Ø±Ø¨ÙŠ": [
          "Ø£Ù‡Ù„Ù‹Ø§ ÙˆØ³Ù‡Ù„Ø§Ù‹ ğŸ‘‹",
          "LEXA Ù…ØªØ¬Ø± ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ ÙˆØ§Ù„Ø¬Ù…Ø§Ù„ âœ¨",
          "ØªØ¨ØºØ§Ù†ÙŠ Ø£Ø¹Ø±Ù‘ÙÙƒ Ø¹Ù„Ù‰ Ø¹Ø±ÙˆØ¶Ù†Ø§ Ø§Ù„Ø­ØµØ±ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ØŸ ğŸ",
        ],
        default: [
          "Hi there! Welcome to LEXA Smart Store ğŸŒ",
          "Would you like to see our trending products today? ğŸ’¡",
        ],
      };

      const selected = messages[interest] || messages.default;

      function showMessage(text, delay) {
        setTimeout(() => {
          const msg = document.createElement("div");
          msg.className = "msg ai";
          msg.textContent = text;
          content.appendChild(msg);
          content.scrollTop = content.scrollHeight;
        }, delay);
      }

      function showButton() {
        const btn = document.createElement("button");
        btn.textContent = "Ù†Ø¹Ù…ØŒ Ø£Ø±Ù†ÙŠ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¢Ù† âœ¨";
        btn.onclick = () => {
          window.open(
            "https://wa.me/14155238886?text=Ù…Ø±Ø­Ø¨Ø§Ù‹+LEXA,+Ø£Ø±Ù†ÙŠ+Ø¹Ø±ÙˆØ¶+Ø§Ù„ÙŠÙˆÙ…+Ù…Ù†+ÙØ¶Ù„Ùƒ",
            "_blank"
          );
        };
        content.appendChild(btn);
      }

      setTimeout(() => {
        chat.style.display = "flex";
        selected.forEach((msg, i) => showMessage(msg, i * 2200));
        setTimeout(showButton, selected.length * 2200 + 600);
      }, 5000);

      // ğŸ’¡ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø®Ø±ÙˆØ¬ Ø§Ù„Ø²Ø§Ø¦Ø± - ØªØ±Ø³Ù„ Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†ÙŠ Ù…Ù† Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©
      let leaveTimeout;
      document.addEventListener("mouseleave", (e) => {
        if (e.clientY <= 0) {
          leaveTimeout = setTimeout(() => {
            window.open(
              "https://wa.me/14155238886?text=Ù…Ø±Ø­Ø¨Ø§Ù‹+LEXA,+ÙƒÙ†Øª+Ø£Ø²ÙˆØ±+Ø§Ù„Ù…ØªØ¬Ø±+Ø§Ù„Ø°ÙƒÙŠ+ÙˆØ­Ø¨ÙŠØª+Ø£Ø¹Ø±Ù+Ø§Ù„Ø¹Ø±ÙˆØ¶+Ù‚Ø¨Ù„+Ù…Ø§+Ø£ØºØ§Ø¯Ø±+ğŸŒŸ",
              "_blank"
            );
          }, 10000);
        }
      });

      // Ø¥Ø°Ø§ Ø¹Ø§Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ÙŠØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡
      document.addEventListener("mouseenter", () => clearTimeout(leaveTimeout));
    </script>
  </body>
</html>
